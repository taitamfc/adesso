import {Component} from "react";
import MyActionServices from "../../services/MyActionServices";
import {Action} from "../../types/Action";

type States = {
    data: Action[]
}

export class ActionsCompleted extends Component<any, States> {
    constructor(props: any) {
        super(props);
        this.state = {
            data: []
        }
    }

    componentDidMount() {
        this.getActions()
    }

    getActions() {
        MyActionServices.getCompletedActions().then(response => {
            let rawData = response.data;
            this.setState({
                data: rawData
            })
        })
    }

    render() {
        return (
            <div className="mt-5">
                <p className="text-[15px] font-semibold text-black uppercase">Actions Completed</p>
                <div className="mt-2">
                    {this.state.data.map(action => {
                        return (
                            <div className="flex justify-between">
                                <span>{ action.name }</span>
                                <div className="flex items-center space-x-2">
                                    <svg width="21" height="19" viewBox="0 0 21 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M16.0326 14.53C18.0958 12.774 19.3742 11.116 20.1166 9.59985C20.1494 9.53295 20.1811 9.46631 20.2118 9.39994C21.2866 7.07659 21.1074 5.09749 20.5878 3.62695M16.0326 14.53L15.5916 13.9234C15.5781 13.9335 15.5624 13.9457 15.5602 13.9476L15.5571 13.95L15.5547 13.952L15.551 13.955M16.0326 14.53L15.5465 13.9589C15.548 13.9576 15.5495 13.9563 15.551 13.955M16.0326 14.53C16.0309 14.5313 15.2471 15.1809 14.2834 15.9796C12.7556 17.2459 10.7759 18.8867 10.7455 18.9112L10.5003 18.1407M15.551 13.955C17.5517 12.2514 18.756 10.673 19.443 9.27002L19.4432 9.26971C19.4735 9.20787 19.5028 9.14642 19.531 9.08536L19.5311 9.08505C20.5143 6.95974 20.343 5.18525 19.8806 3.87682M15.551 13.955L15.5509 13.9552L15.539 13.965L15.4947 14.0017L15.3277 14.1401L14.733 14.6329L12.9274 16.1294L11.1134 17.6328L10.5083 18.134L10.5003 18.1407M19.8806 3.87682C19.8807 3.87687 19.8807 3.87692 19.8807 3.87697L20.5878 3.62695M19.8806 3.87682L20.5878 3.62695M19.8806 3.87682C19.3491 2.3737 18.0758 1.22618 16.5774 0.876107L20.5878 3.62695M10.5003 18.1407L5.45348 13.9593C3.45034 12.2538 2.245 10.6739 1.55754 9.27001L1.55632 9.26754C1.52609 9.20639 1.49706 9.14566 1.46919 9.08536L1.46905 9.08505C0.485819 6.95962 0.656876 5.18519 1.11943 3.87745L1.11958 3.87704C1.64989 2.37497 2.92316 1.22691 4.42298 0.876454L4.423 0.876449C6.92891 0.290836 9.00734 1.89687 9.87829 2.7373L9.87829 2.73731L9.88105 2.73995C9.91142 2.76896 9.94065 2.7978 9.96966 2.8268L10.4964 3.35333L11.0266 2.83026L11.0271 2.82973C11.0585 2.79879 11.0871 2.7706 11.1168 2.74223L11.1168 2.74224L11.1195 2.73966C11.9903 1.90058 14.072 0.293162 16.5772 0.876065L10.5003 18.1407ZM10.5003 18.1407L10.7332 18.3336M10.5003 18.1407L10.3349 18.2776C10.3118 18.2967 10.2961 18.3097 10.2865 18.3176C10.2775 18.3251 10.2739 18.328 10.2748 18.3273L10.2748 18.3273L10.2675 18.3333C10.2699 18.3313 10.2723 18.3293 10.2748 18.3274C10.3385 18.2775 10.417 18.2502 10.4979 18.25L10.4989 18.6053L10.4989 18.6131L10.4989 18.618L10.2563 18.9124M10.7332 18.3336C10.6677 18.2796 10.5855 18.2501 10.5007 18.25L10.5003 18.6071L10.5003 18.6148L10.5003 18.6163L10.5009 18.6155L10.504 18.6117L10.7332 18.3336ZM10.7332 18.3336L10.7348 18.3349L10.5047 18.6126L10.5016 18.6164L10.5003 18.6179L10.4999 19M10.4999 19L10.4989 18.6196L10.2563 18.9124M10.4999 19C10.411 18.9999 10.3249 18.969 10.2563 18.9124M10.4999 19L4.97112 14.5336L10.2563 18.9124" stroke="#EB2781" strokeWidth="1.5"/>
                                    </svg>
                                    <span className="text-color-text-primary">{ action.score }</span>
                                </div>
                            </div>
                        )
                    })}
                </div>
            </div>
        );
    }
}